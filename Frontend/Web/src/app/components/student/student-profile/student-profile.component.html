<div class="profile-container">
  <main class="profile-main">
    <div class="profile-content">
      <!-- Header with Edit Button -->
      <div class="profile-header">
        <h1 class="profile-title">My Profile</h1>
        <app-button variant="default" (buttonClick)="navigateToEdit()">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/>
            <path d="m15 5 4 4"/>
          </svg>
          Edit Profile
        </app-button>
      </div>

      <div class="profile-grid">
        <!-- Left Column -->
        <div class="profile-left-column">
          <!-- Profile Overview -->
          <app-card>
            <app-card-content>
              <div class="profile-overview">
                <app-avatar 
                  [src]="currentStudent.profileImage || ''" 
                  [fallback]="getInitials(currentStudent.fullName)"
                  size="xl">
                </app-avatar>
                
                <div class="profile-info">
                  <h2 class="profile-name">{{ currentStudent.fullName }}</h2>
                  <p *ngIf="currentStudent.title" class="profile-subtitle">
                    {{ currentStudent.title }}
                  </p>
                  <div class="profile-university">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M22 10v6M2 10l10-5 10 5-10 5z"/>
                      <path d="M6 12v5c3 3 9 3 12 0v-5"/>
                    </svg>
                    <span>{{ currentStudent.university }}</span>
                  </div>
                  <app-badge *ngIf="currentStudent.fieldOfStudy" variant="secondary">
                    {{ currentStudent.fieldOfStudy }}
                  </app-badge>
                </div>
              </div>

              <div *ngIf="currentStudent.bio" class="profile-bio">
                <p>{{ currentStudent.bio }}</p>
              </div>
            </app-card-content>
          </app-card>

          <!-- Skills and Tools -->
          <app-card>
            <app-card-header>
              <app-card-title>
                <div class="card-title-with-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
                    <circle cx="12" cy="7" r="4"/>
                  </svg>
                  Skills & Technologies
                </div>
              </app-card-title>
            </app-card-header>
            <app-card-content>
              <div class="skills-section">
                <div class="skill-group">
                  <h4 class="skill-group-title">Skills</h4>
                  <div class="skill-tags">
                    <app-badge 
                      *ngFor="let skill of currentStudent.skills" 
                      variant="default"
                      class="gradient-badge">
                      {{ skill }}
                    </app-badge>
                    <p *ngIf="currentStudent.skills.length === 0" class="empty-message">
                      No skills added yet
                    </p>
                  </div>
                </div>

                <div class="skill-group">
                  <h4 class="skill-group-title">Tools & Technologies</h4>
                  <div class="skill-tags">
                    <app-badge 
                      *ngFor="let tech of currentStudent.technologies" 
                      variant="secondary">
                      {{ tech }}
                    </app-badge>
                    <p *ngIf="currentStudent.technologies.length === 0" class="empty-message">
                      No technologies added yet
                    </p>
                  </div>
                </div>
              </div>
            </app-card-content>
          </app-card>

          <!-- Links -->
          <app-card>
            <app-card-header>
              <app-card-title>
                <div class="card-title-with-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
                    <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
                  </svg>
                  Links
                </div>
              </app-card-title>
            </app-card-header>
            <app-card-content>
              <div class="links-container">
                <a 
                  *ngIf="currentStudent.linkedinUrl"
                  [href]="currentStudent.linkedinUrl" 
                  target="_blank" 
                  rel="noopener noreferrer"
                  class="link-item">
                  <svg class="link-icon linkedin-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
                    <rect width="4" height="12" x="2" y="9"/>
                    <circle cx="4" cy="4" r="2"/>
                  </svg>
                  <span>LinkedIn Profile</span>
                </a>

                <a 
                  *ngIf="currentStudent.githubUrl"
                  [href]="currentStudent.githubUrl" 
                  target="_blank" 
                  rel="noopener noreferrer"
                  class="link-item">
                  <svg class="link-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/>
                    <path d="M9 18c-4.51 2-5-2-7-2"/>
                  </svg>
                  <span>GitHub Profile</span>
                </a>

                <a 
                  *ngIf="currentStudent.customLinkUrl"
                  [href]="currentStudent.customLinkUrl" 
                  target="_blank" 
                  rel="noopener noreferrer"
                  class="link-item">
                  <svg class="link-icon primary-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
                    <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
                  </svg>
                  <span>{{ currentStudent.customLinkLabel || 'Custom Link' }}</span>
                </a>

                <p 
                  *ngIf="!currentStudent.linkedinUrl && !currentStudent.githubUrl && !currentStudent.customLinkUrl" 
                  class="empty-message">
                  No links added yet
                </p>
              </div>
            </app-card-content>
          </app-card>
        </div>

        <!-- Right Column -->
        <div class="profile-right-column">
          <!-- Profile Completeness -->
          <app-card>
            <app-card-header>
              <app-card-title>Profile Completeness</app-card-title>
            </app-card-header>
            <app-card-content>
              <div class="completeness-content">
                <div class="completeness-progress">
                  <span class="completeness-percentage">{{ profileCompleteness.percentage }}%</span>
                  <app-progress [value]="profileCompleteness.percentage" class="progress-bar"></app-progress>
                </div>

                <div *ngIf="profileCompleteness.percentage < 100" class="completeness-tip">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/>
                    <path d="M9 18h6"/>
                    <path d="M10 22h4"/>
                  </svg>
                  <span>{{ profileCompleteness.tip }}</span>
                </div>
              </div>
            </app-card-content>
          </app-card>

          <!-- Resume Card -->
          <app-card>
            <app-card-header>
              <app-card-title>
                <div class="card-title-with-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/>
                    <path d="M14 2v4a2 2 0 0 0 2 2h4"/>
                  </svg>
                  Resume
                </div>
              </app-card-title>
            </app-card-header>
            <app-card-content>
              <div *ngIf="currentStudent.resumeName; else noResume" class="resume-content">
                <div class="resume-info">
                  <div class="resume-icon-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/>
                      <path d="M14 2v4a2 2 0 0 0 2 2h4"/>
                    </svg>
                  </div>
                  <div class="resume-details">
                    <p class="resume-name">{{ currentStudent.resumeName }}</p>
                    <p *ngIf="currentStudent.resumeUploadDate" class="resume-date">
                      <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M8 2v4"/>
                        <path d="M16 2v4"/>
                        <rect width="18" height="18" x="3" y="4" rx="2"/>
                        <path d="M3 10h18"/>
                      </svg>
                      Uploaded {{ currentStudent.resumeUploadDate }}
                    </p>
                  </div>
                </div>
                <app-button variant="outline" class="download-button" (buttonClick)="downloadResume()">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" x2="12" y1="15" y2="3"/>
                  </svg>
                  Download Resume
                </app-button>
              </div>

              <ng-template #noResume>
                <div class="no-resume">
                  <svg class="no-resume-icon" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/>
                    <path d="M14 2v4a2 2 0 0 0 2 2h4"/>
                  </svg>
                  <p class="no-resume-text">No resume uploaded</p>
                  <app-button 
                    variant="outline" 
                    size="sm" 
                    class="upload-button"
                    (buttonClick)="navigateToEdit()">
                    Upload Resume
                  </app-button>
                </div>
              </ng-template>
            </app-card-content>
          </app-card>
        </div>
      </div>
    </div>
  </main>
</div>